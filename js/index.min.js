$(document).ready(function () { const e = "x", t = "o"; let l = "", n = 0, o = 3; const r = { o: 0, x: 0 }, i = 3, a = o * o, c = 5; function s() { $("#game li").text("+"), $("#game li").removeClass("disable o x btn-primary btn-info"), n = 0, l = "" } function g(o) { if ("" !== l) return alert(`${l.toUpperCase()} has won the game. Start a new game`), void s(); if ($(this).hasClass("disable")) return void (n == a ? (alert("Its a tie. It will restart."), s()) : alert("Already selected")); const i = n % 2 == 0 ? t : e; n++, $(this).text(i.toUpperCase()), $(this).addClass(`disable ${i} ${i === t ? "btn-primary" : "btn-info"}`), n >= c && function (e, t) { const l = parseInt(t.getAttribute("row")), n = parseInt(t.getAttribute("col")), o = 1 === $(`#game li.${e}[row='${l - 1}'][col='${n - 1}']`).length; if (o && 1 === $(`#game li.${e}[row='${l - 2}'][col='${n - 2}']`).length) return !0; const r = 1 === $(`#game li.${e}[row='${l + 1}'][col='${n + 1}']`).length; if (o && r) return !0; if (r && 1 === $(`#game li.${e}[row='${l + 2}'][col='${n + 2}']`).length) return !0; const i = 1 === $(`#game li.${e}[row='${l - 1}'][col='${n}']`).length; if (i && 1 === $(`#game li.${e}[row='${l - 2}'][col='${n}']`).length) return !0; const a = 1 === $(`#game li.${e}[row='${l + 1}'][col='${n}']`).length; if (i && a) return !0; if (a && 1 === $(`#game li.${e}[row='${l + 2}'][col='${n}']`).length) return !0; const c = 1 === $(`#game li.${e}[row='${l - 1}'][col='${n + 1}']`).length; if (c && 1 === $(`#game li.${e}[row='${l - 2}'][col='${n + 2}']`).length) return !0; const s = 1 === $(`#game li.${e}[row='${l + 1}'][col='${n - 1}']`).length; if (c && s) return !0; if (s && 1 === $(`#game li.${e}[row='${l + 2}'][col='${n - 2}']`).length) return !0; const g = 1 === $(`#game li.${e}[row='${l}'][col='${n + 1}']`).length; if (g && 1 === $(`#game li.${e}[row='${l}'][col='${n + 2}']`).length) return !0; const m = 1 === $(`#game li.${e}[row='${l}'][col='${n - 1}']`).length; return !(!g || !m) || !(!m || 1 !== $(`#game li.${e}[row='${l}'][col='${n - 2}']`).length) }(i, this) && (l = i, r[i]++, alert(`${i.toUpperCase()} wins`), $(`#${i}_win`).text(r[i])) } function m() { const e = o * o; $("#game").empty(), document.documentElement.style.setProperty("--rowCount", o), document.documentElement.style.setProperty("--colCount", o); for (let t = 0; t < e; t++)$("#game").append(`<li class="btn span1" row="${Math.floor(t / o)}" col="${t % o}">+</li>`); $("#game li").click(g) } $("#reset").click(s), $("#change").click(() => { !function (e) { o != e ? (o = Math.max(e, i), m(), s()) : alert("No change in size. Please input a different value to change board size") }($("#board-input").val()) }), m() });